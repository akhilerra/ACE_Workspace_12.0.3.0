

CREATE COMPUTE MODULE CreditCardDetails_MF_Compute
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		CALL CopyEntireMessage();
		RETURN TRUE;
	END;
	CREATE PROCEDURE CopyEntireMessage() BEGIN
		DECLARE RES ROW;
		
		 SET RES = PASSTHRU('SELECT CREDITCARDNUMBER, CREDITLIMIT FROM CUSTOMERDETAILS WHERE CUSTOMERID = ?' TO DataSource.dsn21c VALUES(InputRoot.JSON.Data.Customer.Id));
		 SET OutputRoot.JSON.Data.CREDITCARDDETAILSRES = RES;
	END;
END MODULE;
